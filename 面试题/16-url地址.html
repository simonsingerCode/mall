<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>从URL地址到页面渲染发生了什么</title>
</head>
<body>

</body>
</html>
<script>
  /*
    从输入 url 地址到页面渲染发生了什么？
    6个部分：{
      1. DNS解析： 将域名地址解析为IP地址
        - 浏览器DMS 缓存
        - 系统的DNS 缓存
        - 路由器DNS 缓存
        - 网络运营商DNS 缓存
        - 递归搜索：blog.baidu.com
          - .com 域名下查找DNS解析，
          - .baidu
          - blog
          - 找不到报错

      2. TCP 链接：TCP的三次握手
        - 第一次握手：由浏览器发起，告诉服务器我要发送请求了
        - 第二次握手：由服务器发起，告诉浏览器我准备接收了，你发送吧
        - 第三次握手：由浏览器发起，告诉服务器，我马上就发了，准备接收吧

      3. 真正的发送请求
        - 请求报文： http 协议的通信内容

      4. 接收响应
        - 响应报文

      5. 渲染页面
        - 遇见HTML标记，浏览器调用HTML解析器解析成对应的 token 标记，并构成DOM树
        - 遇见style/link标记，浏览器会调用 css 解析器，处理css 标记并构建cssom 树，
        - 遇见script标记，浏览器调用JavaScript解析器，处理script代码(绑定事件，修改dom树/cssom树)
        - 将DOM树和CSSOM树，合并成一个渲染树
        - 根据渲染树，计算布局，计算每个节点的几何信息
        - 将各个节点的颜色绘制到屏幕上(渲染)
        注意： 这5个步骤，不一定按照顺序执行，如果dom树或cssom树被修改了，可能会执行多次的布局和渲染，往往实际页面中，这几个步骤都会执行多次

      6. 断开连接： TCP 的四次挥手
        - 第一次挥手： 由浏览器发起，发送给服务器，我东西(请求报文)发送完了，你准备关闭吧
        - 第二次挥手： 由服务器发起，告诉浏览器，请求报文接收完了，我准备关闭了
        - 第三次挥手： 由服务器发起，告诉浏览器，响应报文发送完了，你准备关闭吧
        - 第四次挥手： 由浏览器发起，告诉服务器，响应报文接收完了，你也准备吧
    }
  */
</script>
